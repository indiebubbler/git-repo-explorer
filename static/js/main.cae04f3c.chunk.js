(this["webpackJsonpgit-repo-explorer"]=this["webpackJsonpgit-repo-explorer"]||[]).push([[0],{39:function(e,t,a){e.exports=a(72)},44:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),s=a.n(c),o=(a(44),a(7)),l=a(74),i=a(78),u=a(79),p=a(80),d=a(6),m=a(13),h=a.n(m),f={},g=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"fetchReposRequest":return(e=Object(d.a)({},t))[a.payload]={isLoading:!0,fetched:!1,items:[]},e;case"fetchReposSuccess":return(e=Object(d.a)({},t))[a.payload.loginId]={isLoading:!1,fetched:!0,items:a.payload.repos},e;case"fetchReposFailure":return Object(d.a)({},t);case"clearRepos":return{};default:return t}},b={searchTerm:"",users:[],errorMsg:"",isLoading:!1,fetchSuccess:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchUsersRequest":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,searchTerm:t.payload,fetchSuccess:!1});case"fetchUsersSuccess":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,users:t.payload,errorMsg:"",fetchSuccess:!0});case"fetchUsersFailure":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,errorMsg:t.payload,users:[]});default:return e}},v=a(37),y=a(77),j=a(30),O=a(31),w=a(38),R=a(36),I=a(75),S=a(76),L=function(e){Object(w.a)(a,e);var t=Object(R.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return n.a.createElement(l.a,{className:"RepoCart"},n.a.createElement(I.a,null,n.a.createElement(S.a,null,n.a.createElement("div",{className:"header title"},this.props.repo.name)),n.a.createElement(S.a,null,n.a.createElement("div",{className:"header stars"},this.props.repo.stargazersCount," \u2605"))),n.a.createElement(I.a,null,n.a.createElement(l.a,{className:"description"},this.props.repo.description)))}}]),a}(r.Component),U=function(e){return e.show?n.a.createElement("div",{className:"label"},e.children):null},N=U;U.defaultProps={show:!0};var k=function(e){var t=Object(r.useState)(!1),a=Object(v.a)(t,2),c=a[0],s=a[1],i=Object(o.b)(),u=Object(o.c)((function(e){return e.repos})),d=u[e.user.loginId]&&u[e.user.loginId].isLoading||!1,m=u[e.user.loginId]&&u[e.user.loginId].fetched||!1,f=u[e.user.loginId]?u[e.user.loginId].items:[],g=function(){if(!m){var t={loginId:e.user.loginId,reposUrl:e.user.reposUrl};i((a=t,function(e){var t=a.loginId,r=a.reposUrl;e(function(e){return{type:"fetchReposRequest",payload:e}}(t)),h.a.get(r).then((function(a){var r=a.data.map((function(e){return{name:e.name,stargazersCount:e.stargazers_count,description:e.description}}));e(function(e){return{type:"fetchReposSuccess",payload:e}}({loginId:t,repos:r}))})).catch((function(t){e({type:"fetchReposFailure",payload:t})}))}))}var a;s(!c)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{onClick:function(){return g()},variant:"expandable",className:c?"expanded":"",block:!0},e.user.login),n.a.createElement(N,{show:d},"Loading..."),n.a.createElement(y.a,{in:c},n.a.createElement(l.a,null,n.a.createElement(N,{show:m&&0===f.length},"This user has not created any repository yet."),f.map((function(e){return n.a.createElement(L,{repo:e})})))))},C=function(e){var t=Object(o.c)((function(e){return e.users}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(N,{show:t.isLoading},"Loading..."),n.a.createElement(N,{show:t.fetchSuccess&&0===t.users.length},"There are no users"),t.users.length>0&&!t.isLoading?n.a.createElement("div",{className:"UsersContainer"},n.a.createElement(N,null,'Showing users for "',t.searchTerm,'"'),t.users.map((function(e){return n.a.createElement(k,{user:e})}))):null)},x=function(e){var t=Object(o.b)(),a=Object(r.useRef)();Object(r.useEffect)((function(){a.current.focus()}));var c=function(){var e=a.current.value.trim();e&&e.length>0&&t(function(e){return function(t){t({type:"fetchUsersRequest",payload:e}),h.a.get("https://api.github.com/search/users?q=".concat(e,"&per_page=5")).then((function(e){t((function(e){e({type:"clearRepos"})}));var a=e.data.items.map((function(e){return{login:e.login,reposUrl:e.repos_url,loginId:e.id}}));t({type:"fetchUsersSuccess",payload:a})})).catch((function(e){t({type:"fetchUsersFailure",payload:e})}))}}(e))};return n.a.createElement(l.a,{className:"GitExplorer"},n.a.createElement("h2",{style:{paddingBottom:"1rem"}},"Github Repositories Explorer"),n.a.createElement(i.a,{size:"sm",className:"mb-3"},n.a.createElement(u.a,{ref:a,onKeyPress:function(e){13===e.charCode&&c()},placeholder:"Enter username"})),n.a.createElement(p.a,{onClick:c,block:!0},"Search"),n.a.createElement(C,null))},F=a(9),T=a(34),q=a(35),M=Object(F.combineReducers)({users:E,repos:g}),z=Object(F.createStore)(M,Object(F.compose)(Object(F.applyMiddleware)(T.a),Object(q.composeWithDevTools)()));a(70),a(71);var B=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(o.a,{store:z},n.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.cae04f3c.chunk.js.map